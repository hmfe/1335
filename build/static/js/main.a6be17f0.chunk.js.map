{"version":3,"sources":["search/components/search-input/SearchInput.js","search/components/suggestions-list/SuggestionsList.js","prototypes.js","api/country.js","search/components/search-history/SearchHistory.js","search/components/error-display/ErrorDisplay.js","search/search-page/SearchPage.js","index.js"],"names":["SearchInput","handleTextChange","_callee","userInput","regenerator_default","a","wrap","_context","prev","next","_this","props","onUserInputChange","stop","onKeyDown","e","onKeyDownChange","_this2","this","react_default","createElement","className","type","list","id","onChange","target","value","searchKeyword","required","autoFocus","htmlFor","React","Component","defaultProps","SuggestionsList","string","isRequired","onCountrySelection","event","onCountrySelected","showSuggestions","searchResults","length","map","suggestion","index","activeSuggestion","key","alpha2Code","onClick","name","slice","countryAPI","_x","_countryAPI","apply","arguments","response","fetch","encodeURIComponent","headers","X-RapidAPI-Host","X-RapidAPI-Key","sent","json","abrupt","SearchHistory","onDeleteHistoryItem","onDeleteRecord","clearHistory","onClearHistory","title","searchHistoryItems","country","Fragment","dateTime","dateModified","toLocaleTimeString","dateStyle","timeStyle","hour12","aria-label","data-testid","ErrorDisplay","errorMessage","SearchPage","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleOnUserInputChange","setState","searchAPIDebounced","then","countries","startsWithUserInput","filterTopCountriesStartWithUserInput","catch","err","message","handleOnCountrySelected","state","indexOf","currentTarget","innerText","historyItems","concat","toConsumableArray","Date","handleOnKeyDownChange","keyCode","newIndex","handleDeleteRecord","splice","handleClearHistory","AwesomeDebouncePromise","filter","toLowerCase","startsWith","src","alt","width","height","components_search_input_SearchInput","components_suggestions_list_SuggestionsList","components_search_history_SearchHistory","error_display_ErrorDisplay","ReactDOM","render","search_search_page_SearchPage","document","getElementById"],"mappings":"mWAIMA,oNASJC,uDAAmB,SAAAC,EAAMC,GAAN,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACjBC,EAAKC,MAAMC,kBAAkBT,GADZ,wBAAAI,EAAAM,SAAAX,8DAInBY,UAAY,SAAAC,GACVL,EAAKC,MAAMK,gBAAgBD,4EAGpB,IAAAE,EAAAC,KAEP,OACEC,EAAAd,EAAAe,cAAA,OAAKC,UAAU,kBACbF,EAAAd,EAAAe,cAAA,SAAOE,KAAK,OACVC,KAAK,iBACLC,GAAG,cACHH,UAAU,WACVI,SAAU,SAAAV,GAAC,OAAIE,EAAKhB,iBAAiBc,EAAEW,OAAOC,QAC9Cb,UAAWI,KAAKJ,UAChBa,MAAOT,KAAKP,MAAMiB,cAClBC,UAAQ,EACRC,WAAS,IACXX,EAAAd,EAAAe,cAAA,SAAOW,QAAQ,cAAcV,UAAU,kBAAvC,wBA9BkBW,IAAMC,YAA1BjC,EAKGkC,aAAe,CACpBN,cAAe,IA8BJ5B,eCnCTmC,GCFUC,SAAOC,WACbD,SAAOC,WACDD,0NDeZE,mBAAqB,SAACC,GAClB7B,EAAKC,MAAM6B,kBAAkBD,4EAGxB,IAAAtB,EAAAC,KACL,OAAIA,KAAKP,MAAM8B,gBACqB,MAA5BvB,KAAKP,MAAM+B,eAAyBxB,KAAKP,MAAM+B,cAAcC,OAAS,EAElExB,EAAAd,EAAAe,cAAA,MAAIC,UAAU,mBACTH,KAAKP,MAAM+B,cAAcE,IAAI,SAACC,EAAYC,GACvC,IAAIzB,EAAY,kBAOhB,OAJIyB,IAAU7B,EAAKN,MAAMoC,mBACrB1B,EAAY,0BAIZF,EAAAd,EAAAe,cAAA,MAAIC,UAAWA,EAAW2B,IAAKH,EAAWI,WAAYC,QAASjC,EAAKqB,oBAEhEnB,EAAAd,EAAAe,cAAA,SACKyB,EAAWM,KAAKC,MAAM,EAAGnC,EAAKN,MAAMiB,cAAce,SAEtDE,EAAWM,KAAKC,MAAMnC,EAAKN,MAAMiB,cAAce,YAQhExB,EAAAd,EAAAe,cAAA,MAAIC,UAAU,mBACVF,EAAAd,EAAAe,cAAA,MAAIC,UAAU,0BAAd,gEAQJ,YAvDUW,IAAMC,YAA9BE,EAQKD,aAAe,CAClBQ,cAAe,GACfK,iBAAkB,EAClBN,iBAAiB,EACjBb,cAAe,IAiDRO,QElEA,SAAgBkB,EAA/BC,GAAA,OAAAC,EAAAC,MAAAtC,KAAAuC,sDAAe,SAAAvD,EAA2BC,GAA3B,IAAAuD,EAAA,OAAAtD,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACUkD,MAAM,gDAAkDC,mBAAmBzD,GAAY,CACxG0D,QAAS,CACLC,kBAAmB,kCACnBC,iBAAkB,wDAJf,cACPL,EADOnD,EAAAyD,KAAAzD,EAAAE,KAAA,EAOEiD,EAASO,OAPX,cAAA1D,EAAA2D,OAAA,SAAA3D,EAAAyD,MAAA,wBAAAzD,EAAAM,SAAAX,uCCITiE,6MASFC,oBAAsB,SAAC7B,GACnB7B,EAAKC,MAAM0D,eAAe9B,MAG9B+B,aAAe,WACX5D,EAAKC,MAAM4D,0FAGN,IAAAtD,EAAAC,KACL,OACIC,EAAAd,EAAAe,cAAA,eACID,EAAAd,EAAAe,cAAA,WAASC,UAAU,gBACfF,EAAAd,EAAAe,cAAA,+BACAD,EAAAd,EAAAe,cAAA,UAAQE,KAAK,SAASD,UAAU,UAAU6B,QAAS,kBAAMjC,EAAKqD,gBAAgBE,MAAM,SAApF,kBAEJrD,EAAAd,EAAAe,cAAA,WACAD,EAAAd,EAAAe,cAAA,UACKF,KAAKP,MAAM8D,mBAAmB7B,IAAI,SAAA8B,GAC/B,OACIvD,EAAAd,EAAAe,cAACD,EAAAd,EAAMsE,SAAP,CAAgB3B,IAAK0B,EAAQzB,YACzB9B,EAAAd,EAAAe,cAAA,MAAI4B,IAAK0B,EAAQzB,YACb9B,EAAAd,EAAAe,cAAA,UAAKsD,EAAQvB,MACbhC,EAAAd,EAAAe,cAAA,QAAMwD,SAAS,oDACVF,EAAQG,aAAaC,mBAAmB,QAAS,CAAEC,UAAW,QAASC,UAAW,QAASC,OAAQ,UAExG9D,EAAAd,EAAAe,cAAA,UAAQE,KAAK,SAAS4D,aAAW,SAASC,cAAaT,EAAQzB,WAAY5B,UAAU,UAAU6B,QAAS,kBAAMjC,EAAKmD,oBAAoBM,OAE3IvD,EAAAd,EAAAe,cAAA,uBApCJY,IAAMC,WAA5BkC,EAKKjC,aAAe,CAClBuC,mBAAoB,IAwCbN,QCpCAiB,EAZM,SAACzE,GAClB,OAAIA,EAAM0E,aAEFlE,EAAAd,EAAAe,cAAA,SAAOC,UAAU,SACbF,EAAAd,EAAAe,cAAA,yCACAD,EAAAd,EAAAe,cAAA,YAAOT,EAAM0E,eAIjB,MCiJGC,qBAlJX,SAAAA,EAAY3E,GAAO,IAAAD,EAAA,OAAA6E,OAAAC,EAAA,EAAAD,CAAArE,KAAAoE,IACf5E,EAAA6E,OAAAE,EAAA,EAAAF,CAAArE,KAAAqE,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAzE,KAAMP,KAcViF,wBAA0B,SAACzF,IAEvBO,EAAKmF,SAAS,CAAEjE,cAAezB,EAAWkF,aAAc,KACtC,KAAdlF,GAKeO,EAAKoF,mBAAmB3F,GAEtC4F,KAAK,SAAAC,GACF,IAAIC,EAAsB,GACtBD,GAAaA,EAAUrD,OAAS,IAChCsD,EAAsBvF,EAAKwF,qCAAqCF,EAAW7F,IAE/EO,EAAKmF,SAAS,CACVpD,iBAAiB,EACjBC,cAAeuD,MAGtBE,MAAM,SAACC,GACJ1F,EAAKmF,SAAS,CAAER,aAAce,EAAIC,QAAU3D,cAAe,GAAID,iBAAiB,MAhBpF/B,EAAKmF,SAAS,CAAEpD,iBAAiB,EAAOC,cAAe,MApB5ChC,EA+CnB4F,wBAA0B,SAACvF,GAEvB,IAAM+B,EAAQpC,EAAK6F,MAAM7D,cAAcE,IAAI,SAAA7B,GAAC,OAAIA,EAAEoC,OAAMqD,QAAQzF,EAAE0F,cAAcC,WAC5EhG,EAAK6F,MAAM7D,cAAcI,IACzBpC,EAAKmF,SAAS,CACV9C,iBAAkB,EAClBN,iBAAiB,EACjBtC,UAAWO,EAAK6F,MAAM7D,cAAcI,GACpClB,cAAe,GACf+E,aAAY,GAAAC,OAAArB,OAAAsB,EAAA,EAAAtB,CAAM7E,EAAK6F,MAAMI,cAAjB,CAA+B,CAAExD,KAAMzC,EAAK6F,MAAM7D,cAAcI,GAAOK,KAAM0B,aAAc,IAAIiC,WAxDpGpG,EA6DnBqG,sBAAwB,SAAChG,GAErB,GAAkB,KAAdA,EAAEiG,QAC+B,KAA7BtG,EAAK6F,MAAM3E,eAAwBlB,EAAK6F,MAAM7D,cAAchC,EAAK6F,MAAMxD,mBACvErC,EAAKmF,SAAS,CACV9C,iBAAkB,EAClBN,iBAAiB,EACjBb,cAAe,GACf+E,aAAY,GAAAC,OAAArB,OAAAsB,EAAA,EAAAtB,CAAM7E,EAAK6F,MAAMI,cAAjB,CAA+B,CACnCxD,KAAMzC,EAAK6F,MAAM7D,cAAchC,EAAK6F,MAAMxD,kBAAkBI,KAC5D0B,aAAc,IAAIiC,eAKjC,GAAkB,KAAd/F,EAAEiG,QAAgB,CACvB,IAAMC,EAA4C,IAAhCvG,EAAK6F,MAAMxD,iBACzBrC,EAAK6F,MAAM7D,cAAcC,OAAS,EAAIjC,EAAK6F,MAAMxD,iBAAmB,EACxErC,EAAKmF,SAAS,CAAE9C,iBAAkBkE,SAGjC,GAAkB,KAAdlG,EAAEiG,QAAgB,CACvB,IAAMC,EAAYvG,EAAK6F,MAAMxD,mBAAqBrC,EAAK6F,MAAM7D,cAAcC,OAAS,EAChF,EAAIjC,EAAK6F,MAAMxD,iBAAmB,EACtCrC,EAAKmF,SAAS,CAAE9C,iBAAkBkE,SAGf,KAAdlG,EAAEiG,SACPtG,EAAKmF,SAAS,CAAEpD,iBAAiB,KAzFtB/B,EA6FnBwG,mBAAqB,SAACnG,GAClB,IAAM+B,EAAQpC,EAAK6F,MAAMI,aAAa/D,IAAI,SAAA7B,GAAC,OAAIA,IAAGyF,QAAQzF,GAE1DL,EAAK6F,MAAMI,aAAaQ,OAAOrE,EAAO,GACtCpC,EAAKmF,SAAS,CAAEc,aAAcjG,EAAK6F,MAAMI,gBAjG1BjG,EAoGnB0G,mBAAqB,WACjB1G,EAAKmF,SAAS,CAAEc,aAAc,MAnG9BjG,EAAKoF,mBAAqBuB,YAAuBhE,EAAY,KAE7D3C,EAAK6F,MAAQ,CACT7D,cAAe,GACfd,cAAe,GACfmB,iBAAkB,EAClBN,iBAAiB,EACjBkE,aAAc,IATHjG,oGAyCkBsF,EAAW7F,GAE5C,OADoC6F,EAAUsB,OAAO,SAAA5C,GAAO,OAAIA,EAAQvB,KAAKoE,cAAcC,WAAWrH,EAAUoH,iBAC7EnE,MAAM,EAAG,oCA8D5C,OACIjC,EAAAd,EAAAe,cAAAD,EAAAd,EAAAsE,SAAA,KACIxD,EAAAd,EAAAe,cAAA,cACID,EAAAd,EAAAe,cAAA,OAAKqG,IAAI,40EAA40EC,IAAI,WAAWC,MAAM,KAAKC,OAAO,OACt3EzG,EAAAd,EAAAe,cAAA,yBACAD,EAAAd,EAAAe,cAAA,8EAEJD,EAAAd,EAAAe,cAAA,YACID,EAAAd,EAAAe,cAAA,eACID,EAAAd,EAAAe,cAACyG,EAAD,CACIjH,kBAAmBM,KAAK0E,wBACxB5E,gBAAiBE,KAAK6F,sBACtBnF,cAAeV,KAAKqF,MAAM3E,gBAG9BT,EAAAd,EAAAe,cAAC0G,EAAD,CACIpF,cAAexB,KAAKqF,MAAM7D,cAC1BK,iBAAkB7B,KAAKqF,MAAMxD,iBAC7BN,gBAAiBvB,KAAKqF,MAAM9D,gBAC5Bb,cAAeV,KAAKqF,MAAM3E,cAC1BY,kBAAmBtB,KAAKoF,2BAGhCnF,EAAAd,EAAAe,cAAA,eACID,EAAAd,EAAAe,cAAC2G,EAAD,CACIxD,eAAgBrD,KAAKkG,mBACrB3C,mBAAoBvD,KAAKqF,MAAMI,aAC/BtC,eAAgBnD,KAAKgG,sBAG7B/F,EAAAd,EAAAe,cAAC4G,EAAD,CAAc3C,aAAcnE,KAAKqF,MAAMlB,gBAG3ClE,EAAAd,EAAAe,cAAA,cACID,EAAAd,EAAAe,cAAA,+BA5IKY,IAAMC,YCJ/BgG,IAASC,OAAO/G,EAAAd,EAAAe,cAAC+G,EAAD,MAAgBC,SAASC,eAAe","file":"static/js/main.a6be17f0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport './SearchInput.css';\r\n\r\nclass SearchInput extends React.Component {\r\n  static propTypes = {\r\n    searchKeyword: PropTypes.string,\r\n  };\r\n\r\n  static defaultProps = {\r\n    searchKeyword: []\r\n  };\r\n\r\n  handleTextChange = async userInput => {\r\n    this.props.onUserInputChange(userInput);\r\n  };\r\n\r\n  onKeyDown = e => {\r\n    this.props.onKeyDownChange(e);\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"hm-input-group\">\r\n        <input type=\"text\"\r\n          list=\"suggestionList\"\r\n          id=\"countryName\"\r\n          className=\"hm-input\"\r\n          onChange={e => this.handleTextChange(e.target.value)}\r\n          onKeyDown={this.onKeyDown}\r\n          value={this.props.searchKeyword}\r\n          required\r\n          autoFocus></input>\r\n        <label htmlFor=\"countryName\" className=\"hm-input-label\">Country Name</label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchInput;","import React from \"react\";\r\nimport { arrayOf,  number, string, bool, shape } from 'prop-types';\r\nimport { Country } from '../../../prototypes'\r\nimport './SuggestionsList.css';\r\n\r\nclass SuggestionsList extends React.Component {\r\n    static propTypes = {\r\n        searchResults: arrayOf(shape(Country)),\r\n        activeSuggestion: number,\r\n        showSuggestions: bool,\r\n        searchKeyword: string\r\n    };\r\n\r\n    static defaultProps = {\r\n        searchResults: [],\r\n        activeSuggestion: 0,\r\n        showSuggestions: false,\r\n        searchKeyword: ''\r\n    };\r\n\r\n    onCountrySelection = (event) => {\r\n        this.props.onCountrySelected(event);\r\n    }\r\n\r\n    render() {\r\n        if (this.props.showSuggestions) {\r\n            if (this.props.searchResults != null && this.props.searchResults.length > 0) {\r\n                return (\r\n                    <ol className=\"suggestion-list\">\r\n                        {this.props.searchResults.map((suggestion, index) => {\r\n                            let className = 'suggestion-item';\r\n\r\n                            //Flag the active suggestion with a class\r\n                            if (index === this.props.activeSuggestion) {\r\n                                className = \"suggestion-item active\";\r\n                            }\r\n\r\n                            return (\r\n                                <li className={className} key={suggestion.alpha2Code} onClick={this.onCountrySelection}>\r\n                                    {/* Bold the matching characters as the keyword lenght */}\r\n                                    <b>\r\n                                        {suggestion.name.slice(0, this.props.searchKeyword.length)}\r\n                                    </b>\r\n                                    {suggestion.name.slice(this.props.searchKeyword.length)}\r\n                                </li>\r\n                            );\r\n                        })}\r\n                    </ol>\r\n                );\r\n            } else {\r\n                return (\r\n                    <ul className=\"suggestion-list\">\r\n                        <li className=\"suggestion-item danger\">\r\n                            No suggestions available, please refine your search inputs!\r\n                        </li>\r\n                    </ul>\r\n                );\r\n\r\n            }\r\n        } else {\r\n            return (null)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default SuggestionsList;","import { string } from 'prop-types';\r\n\r\nexport const Country = {\r\n    alpha2Code: string.isRequired,\r\n    name: string.isRequired,\r\n    nativeName: string\r\n  };\r\n  \r\n  ","export default async function  countryAPI(userInput) {\r\n    var response = await fetch('https://restcountries-v1.p.rapidapi.com/name/' + encodeURIComponent(userInput), {\r\n        headers: {\r\n            \"X-RapidAPI-Host\": \"restcountries-v1.p.rapidapi.com\",\r\n            \"X-RapidAPI-Key\": \"ca5af657a4mshfb7d346f15f6cabp1cd280jsn51556ef34eb2\"\r\n        }\r\n    });\r\n    return await response.json();\r\n} \r\n","import React from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport './SearchHistory.css';\r\n\r\nclass SearchHistory extends React.Component {\r\n    static propTypes = {\r\n        searchHistoryItems: PropTypes.array\r\n    };\r\n\r\n    static defaultProps = {\r\n        searchHistoryItems: []\r\n    };\r\n\r\n    onDeleteHistoryItem = (event) => {\r\n        this.props.onDeleteRecord(event);\r\n    }\r\n\r\n    clearHistory = () => {\r\n        this.props.onClearHistory();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <article>\r\n                <section className=\"hisotryTitle\">\r\n                    <h2> Search History: </h2>\r\n                    <button type=\"button\" className=\"hm-link\" onClick={() => this.clearHistory()} title='Clear'>Clear History</button>\r\n                </section>\r\n                <hr></hr>\r\n                <ul>\r\n                    {this.props.searchHistoryItems.map(country => {\r\n                        return (\r\n                            <React.Fragment key={country.alpha2Code}>\r\n                                <li key={country.alpha2Code}>\r\n                                    <h3>{country.name}</h3>\r\n                                    <time dateTime=\"country.dateModified.toLocaleTimeString('sv-SE')\">\r\n                                        {country.dateModified.toLocaleTimeString(\"sv-SE\", { dateStyle: 'short', timeStyle: 'short', hour12: 'true' })}\r\n                                    </time>\r\n                                    <button type=\"button\" aria-label=\"Delete\" data-testid={country.alpha2Code} className=\"del-btn\" onClick={() => this.onDeleteHistoryItem(country)}></button>\r\n                                </li>\r\n                                <hr></hr>\r\n                            </React.Fragment>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </article>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchHistory;","import React from 'react'\r\n\r\nconst ErrorDisplay = (props) => {\r\n    if (props.errorMessage) {\r\n        return (\r\n            <aside className=\"alert\">\r\n                <strong>Error retrieving data: </strong>\r\n                <span>{props.errorMessage}</span>\r\n            </aside>\r\n        )\r\n    }\r\n    return (null)\r\n}\r\n\r\nexport default ErrorDisplay","import React from 'react';\r\nimport AwesomeDebouncePromise from 'awesome-debounce-promise';\r\nimport SearchInput from '../components/search-input/SearchInput';\r\nimport SuggestionsList from '../components/suggestions-list/SuggestionsList';\r\nimport countryAPI from '../../api/country';\r\nimport SearchHistory from '../components/search-history/SearchHistory';\r\nimport ErrorDisplay from '../components/error-display/ErrorDisplay';\r\nimport './SearchPage.css';\r\n\r\nclass SearchPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.searchAPIDebounced = AwesomeDebouncePromise(countryAPI, 500);\r\n\r\n        this.state = {\r\n            searchResults: [],\r\n            searchKeyword: '',\r\n            activeSuggestion: 0,\r\n            showSuggestions: false,\r\n            historyItems: []\r\n        }\r\n    }\r\n\r\n    // accepts userInput string, debounce and call the api \r\n    // and then set the the result to the child component\r\n    handleOnUserInputChange = (userInput) => {\r\n        // with each input, the error will be cleared\r\n        this.setState({ searchKeyword: userInput, errorMessage: '' });\r\n        if (userInput === '') {\r\n            // if input is clear, then clear suggestions & hide list\r\n            this.setState({ showSuggestions: false, searchResults: [] });\r\n            return\r\n        }\r\n        const countries$ = this.searchAPIDebounced(userInput);\r\n        countries$\r\n            .then(countries => {\r\n                let startsWithUserInput = [];\r\n                if (countries && countries.length > 0) {\r\n                    startsWithUserInput = this.filterTopCountriesStartWithUserInput(countries, userInput);\r\n                }\r\n                this.setState({\r\n                    showSuggestions: true,\r\n                    searchResults: startsWithUserInput\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                this.setState({ errorMessage: err.message , searchResults: [], showSuggestions: false});\r\n            });\r\n\r\n    }\r\n\r\n    filterTopCountriesStartWithUserInput(countries, userInput) {\r\n        const countriesStartWithUserInput = countries.filter(country => country.name.toLowerCase().startsWith(userInput.toLowerCase()));\r\n        return countriesStartWithUserInput.slice(0, 5);\r\n    }\r\n\r\n    // handle mouse selection\r\n    handleOnCountrySelected = (e) => {\r\n        // get selected country by index from state\r\n        const index = this.state.searchResults.map(e => e.name).indexOf(e.currentTarget.innerText);\r\n        if (this.state.searchResults[index]) {\r\n            this.setState({\r\n                activeSuggestion: 0,\r\n                showSuggestions: false,\r\n                userInput: this.state.searchResults[index],\r\n                searchKeyword: '',\r\n                historyItems: [...this.state.historyItems, { name: this.state.searchResults[index].name, dateModified: new Date() }]\r\n            });\r\n        }\r\n    }\r\n\r\n    handleOnKeyDownChange = (e) => {\r\n        // User pressed the enter key\r\n        if (e.keyCode === 13) {\r\n            if (this.state.searchKeyword !== '' && this.state.searchResults[this.state.activeSuggestion]) {\r\n                this.setState({\r\n                    activeSuggestion: 0,\r\n                    showSuggestions: false,\r\n                    searchKeyword: '',\r\n                    historyItems: [...this.state.historyItems, {\r\n                            name: this.state.searchResults[this.state.activeSuggestion].name,\r\n                            dateModified: new Date()}]\r\n                });\r\n            }\r\n        }\r\n        // User pressed the up arrow\r\n        else if (e.keyCode === 38) {\r\n            const newIndex = (this.state.activeSuggestion === 0) ?\r\n                this.state.searchResults.length - 1 : this.state.activeSuggestion - 1;\r\n            this.setState({ activeSuggestion: newIndex })\r\n        }\r\n        // User pressed the down arrow\r\n        else if (e.keyCode === 40) {\r\n            const newIndex = (this.state.activeSuggestion === this.state.searchResults.length - 1) ?\r\n                0 : this.state.activeSuggestion + 1;\r\n            this.setState({ activeSuggestion: newIndex })\r\n        }\r\n        // User pressed Esc key\r\n        else if (e.keyCode === 27) {\r\n            this.setState({ showSuggestions: false });\r\n        }\r\n    }\r\n\r\n    handleDeleteRecord = (e) => {\r\n        const index = this.state.historyItems.map(e => e).indexOf(e);\r\n\r\n        this.state.historyItems.splice(index, 1)\r\n        this.setState({ historyItems: this.state.historyItems })\r\n    }\r\n\r\n    handleClearHistory = () => {\r\n        this.setState({ historyItems: [] });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <header>\r\n                    <img src=\"data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D%2232%22%20height%3D%2221%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22%23CD1F26%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M29.272.953c-.506.225-.9-.01-1.517%201.257-1.94%203.987-3.45%207.223-5.25%2011.88.053-3.824.737-6.868%201.145-10.59.075-.688.18-1.633.165-2.346-.012-.548-.558-.62-1.658-.078-.612.302-1.348.277-1.63%201.004-1.195%203.097-3.956%2011.707-5.238%2016.576-.31%201.17.85%201.366%201.197.166.843-2.9%202.77-9.323%203.917-12.63-.115%203.028-.94%207.813-.555%2010.324.12.79.857%201.13%201.236%201.8.27.475.703.523.94-.127%201.123-3.064%203.308-8.464%205.416-12.784-.413%201.9-1.998%209.97-2.44%2013.187-.088.646.704.662%201.406%201.633.157.218.763.455.872-.103.375-1.93%202.822-14.458%203.78-18.438.258-1.072.184-1.612-1.79-.733m-16.005%209.104c.843-1.257%201.086-1.002%201.29-1.385.252-.477.085-.93-.817-.817%200%200-.34.025-.968.096%201-2.57%201.872-4.753%202.502-6.41.213-.565.24-.977-.108-1.06-.373-.09-1.45.492-2.115.606-.21.036-.414.26-.484.42A190.712%20190.712%200%200%200%209.728%208.39c-1.055.18-2.29.416-3.67.726.99-2.536%201.99-5.036%202.962-7.446C9.5.488%208.24.376%207.75%201.577a441.612%20441.612%200%200%200-3.148%207.88c-.97.24-1.996.51-3.07.82-.782.226-.816.434-.478.9.188.263.572.237.748.423.456.48.732%201.057%201.547%201.144a206.53%20206.53%200%200%200-2.115%205.88c-.413%201.21.764%201.46%201.217.177a300.08%20300.08%200%200%201%202.288-6.243c.658-.153%202.25-.496%203.723-.815-1.168%203.2-1.937%205.63-2.226%206.813-.056.227.037.353.084.446.396.574.77.597%201.278%201.306a.428.428%200%200%200%20.755-.178%20231.115%20231.115%200%200%201%203.23-9.08c.432-.095%201.207-.283%201.683-.99%22/%3E%3Cpath%20d%3D%22M14.062%2015.046a6.46%206.46%200%200%200-.236.22%2085.602%2085.602%200%200%201-.268-.837c.255-.314.5-.62.71-.946.868-1.352-.85-2.13-1.59-1.253-.394.47-.296.93-.187%201.323l.15.506c-.21.215-.463.486-.8.877-.84.974-.61%202.24.288%202.518.547.17%201.056-.082%201.498-.474.02.057.044.12.064.17.234.588.96.41.683-.3-.047-.12-.11-.294-.176-.484a9.27%209.27%200%200%200%20.388-.53c.535-.795.018-1.26-.523-.79zm-.57-1.86c-.08.092-.157.173-.233.252a3.895%203.895%200%200%201-.053-.184c-.25-.944.832-.686.285-.068zm-.586%202.874c-.328.2-.59-.015-.148-.62.074-.103.152-.192.23-.29.073.227.15.457.227.685a2.694%202.694%200%200%201-.31.225z%22/%3E%3C/g%3E%3C/svg%3E\" alt=\"H&M Logo\" width=\"68\" height=\"44\"></img>\r\n                    <h1>Search form</h1>\r\n                    <p>Search for your favorite products with our awsome search engine!</p>\r\n                </header>\r\n                <main>\r\n                    <section>\r\n                        <SearchInput\r\n                            onUserInputChange={this.handleOnUserInputChange}\r\n                            onKeyDownChange={this.handleOnKeyDownChange}\r\n                            searchKeyword={this.state.searchKeyword}>\r\n                        </SearchInput>\r\n\r\n                        <SuggestionsList\r\n                            searchResults={this.state.searchResults}\r\n                            activeSuggestion={this.state.activeSuggestion}\r\n                            showSuggestions={this.state.showSuggestions}\r\n                            searchKeyword={this.state.searchKeyword}\r\n                            onCountrySelected={this.handleOnCountrySelected}>\r\n                        </SuggestionsList>\r\n                    </section>\r\n                    <section>\r\n                        <SearchHistory\r\n                            onClearHistory={this.handleClearHistory}\r\n                            searchHistoryItems={this.state.historyItems}\r\n                            onDeleteRecord={this.handleDeleteRecord}>\r\n                        </SearchHistory>\r\n                    </section>\r\n                    <ErrorDisplay errorMessage={this.state.errorMessage}></ErrorDisplay>\r\n                </main>\r\n\r\n                <footer>\r\n                    <p>&copy; 2020</p>\r\n                </footer>\r\n            </ >\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchPage;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SearchPage from './search/search-page/SearchPage';\n\nReactDOM.render(<SearchPage />, document.getElementById('root'));\n"],"sourceRoot":""}