(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(27)},19:function(e,t,a){},21:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),o=a.n(r),c=(a(19),a(9)),i=a(1),l=a(2),u=a(4),h=a(3),g=a(5),m=a(13),p=a(6),d=a.n(p),y=a(7),f=(a(21),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).handleTextChange=function(){var e=Object(y.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.onUserInputChange(t);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onKeyDown=function(e){a.props.onKeyDownChange(e)},a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"hm-input-group"},s.a.createElement("input",{type:"text",list:"suggestionList",id:"countryName",className:"hm-input",onChange:function(t){return e.handleTextChange(t.target.value)},onKeyDown:this.onKeyDown,value:this.props.searchKeyword,required:!0,autoFocus:!0}),s.a.createElement("label",{htmlFor:"countryName",className:"hm-input-label"},"Country Name"))}}]),t}(s.a.Component));f.defaultProps={searchKeyword:[]};var v=f,w=a(8),S=(w.string.isRequired,w.string.isRequired,w.string,a(24),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).onCountrySelection=function(e){a.props.onCountrySelected(e)},a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.showSuggestions?null!=this.props.searchResults&&this.props.searchResults.length>0?s.a.createElement("ol",{className:"suggestion-list"},this.props.searchResults.map(function(t,a){var n="suggestion-item";return a===e.props.activeSuggestion&&(n="suggestion-item active"),s.a.createElement("li",{className:n,key:t.alpha2Code,onClick:e.onCountrySelection},s.a.createElement("b",null,t.name.slice(0,e.props.searchKeyword.length)),t.name.slice(e.props.searchKeyword.length))})):s.a.createElement("ul",{className:"suggestion-list"},s.a.createElement("li",{className:"suggestion-item danger"},"No suggestions available, please refine your search inputs!")):null}}]),t}(s.a.Component));S.defaultProps={searchResults:[],activeSuggestion:0,showSuggestions:!1,searchKeyword:""};var C=S;function E(e){return b.apply(this,arguments)}function b(){return(b=Object(y.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries-v1.p.rapidapi.com/name/"+encodeURIComponent(t),{headers:{"X-RapidAPI-Host":"restcountries-v1.p.rapidapi.com","X-RapidAPI-Key":"ca5af657a4mshfb7d346f15f6cabp1cd280jsn51556ef34eb2"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}a(25);var O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).onDeleteHistoryItem=function(e){a.props.onDeleteRecord(e)},a.clearHistory=function(){a.props.onClearHistory()},a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("article",null,s.a.createElement("section",{className:"hisotryTitle"},s.a.createElement("h2",null," Search History: "),s.a.createElement("button",{type:"button",className:"hm-link",onClick:function(){return e.clearHistory()},title:"Clear"},"Clear History")),s.a.createElement("hr",null),s.a.createElement("ul",null,this.props.searchHistoryItems.map(function(t){return s.a.createElement(s.a.Fragment,{key:t.alpha2Code},s.a.createElement("li",{key:t.alpha2Code},s.a.createElement("h3",null,t.name),s.a.createElement("time",{dateTime:"country.dateModified.toLocaleTimeString('sv-SE')"},t.dateModified.toLocaleTimeString("sv-SE",{dateStyle:"short",timeStyle:"short",hour12:"true"})),s.a.createElement("button",{type:"button","aria-label":"Delete","data-testid":t.alpha2Code,className:"del-btn",onClick:function(){return e.onDeleteHistoryItem(t)}})),s.a.createElement("hr",null))})))}}]),t}(s.a.Component);O.defaultProps={searchHistoryItems:[]};var I=O,j=function(e){return e.errorMessage?s.a.createElement("aside",{className:"alert"},s.a.createElement("strong",null,"Error retrieving data: "),s.a.createElement("span",null,e.errorMessage)):null},R=(a(26),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleOnUserInputChange=function(e){(a.setState({searchKeyword:e,errorMessage:""}),""!==e)?a.searchAPIDebounced(e).then(function(t){var n=[];t&&t.length>0&&(n=a.filterTopCountriesStartWithUserInput(t,e)),a.setState({showSuggestions:!0,searchResults:n})}).catch(function(e){a.setState({errorMessage:e.message,searchResults:[],showSuggestions:!1})}):a.setState({showSuggestions:!1,searchResults:[]})},a.handleOnCountrySelected=function(e){var t=a.state.searchResults.map(function(e){return e.name}).indexOf(e.currentTarget.innerText);a.state.searchResults[t]&&a.setState({activeSuggestion:0,showSuggestions:!1,userInput:a.state.searchResults[t],searchKeyword:"",historyItems:[].concat(Object(c.a)(a.state.historyItems),[{name:a.state.searchResults[t].name,dateModified:new Date}])})},a.handleOnKeyDownChange=function(e){if(13===e.keyCode)""!==a.state.searchKeyword&&a.state.searchResults[a.state.activeSuggestion]&&a.setState({activeSuggestion:0,showSuggestions:!1,searchKeyword:"",historyItems:[].concat(Object(c.a)(a.state.historyItems),[{name:a.state.searchResults[a.state.activeSuggestion].name,dateModified:new Date}])});else if(38===e.keyCode){var t=0===a.state.activeSuggestion?a.state.searchResults.length-1:a.state.activeSuggestion-1;a.setState({activeSuggestion:t})}else if(40===e.keyCode){var n=a.state.activeSuggestion===a.state.searchResults.length-1?0:a.state.activeSuggestion+1;a.setState({activeSuggestion:n})}else 27===e.keyCode&&a.setState({showSuggestions:!1})},a.handleDeleteRecord=function(e){var t=a.state.historyItems.map(function(e){return e}).indexOf(e);a.state.historyItems.splice(t,1),a.setState({historyItems:a.state.historyItems})},a.handleClearHistory=function(){a.setState({historyItems:[]})},a.searchAPIDebounced=Object(m.a)(E,500),a.state={searchResults:[],searchKeyword:"",activeSuggestion:0,showSuggestions:!1,historyItems:[]},a}return Object(g.a)(t,e),Object(l.a)(t,[{key:"filterTopCountriesStartWithUserInput",value:function(e,t){return e.filter(function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())}).slice(0,5)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("header",null,s.a.createElement("img",{src:"data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D%2232%22%20height%3D%2221%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22%23CD1F26%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M29.272.953c-.506.225-.9-.01-1.517%201.257-1.94%203.987-3.45%207.223-5.25%2011.88.053-3.824.737-6.868%201.145-10.59.075-.688.18-1.633.165-2.346-.012-.548-.558-.62-1.658-.078-.612.302-1.348.277-1.63%201.004-1.195%203.097-3.956%2011.707-5.238%2016.576-.31%201.17.85%201.366%201.197.166.843-2.9%202.77-9.323%203.917-12.63-.115%203.028-.94%207.813-.555%2010.324.12.79.857%201.13%201.236%201.8.27.475.703.523.94-.127%201.123-3.064%203.308-8.464%205.416-12.784-.413%201.9-1.998%209.97-2.44%2013.187-.088.646.704.662%201.406%201.633.157.218.763.455.872-.103.375-1.93%202.822-14.458%203.78-18.438.258-1.072.184-1.612-1.79-.733m-16.005%209.104c.843-1.257%201.086-1.002%201.29-1.385.252-.477.085-.93-.817-.817%200%200-.34.025-.968.096%201-2.57%201.872-4.753%202.502-6.41.213-.565.24-.977-.108-1.06-.373-.09-1.45.492-2.115.606-.21.036-.414.26-.484.42A190.712%20190.712%200%200%200%209.728%208.39c-1.055.18-2.29.416-3.67.726.99-2.536%201.99-5.036%202.962-7.446C9.5.488%208.24.376%207.75%201.577a441.612%20441.612%200%200%200-3.148%207.88c-.97.24-1.996.51-3.07.82-.782.226-.816.434-.478.9.188.263.572.237.748.423.456.48.732%201.057%201.547%201.144a206.53%20206.53%200%200%200-2.115%205.88c-.413%201.21.764%201.46%201.217.177a300.08%20300.08%200%200%201%202.288-6.243c.658-.153%202.25-.496%203.723-.815-1.168%203.2-1.937%205.63-2.226%206.813-.056.227.037.353.084.446.396.574.77.597%201.278%201.306a.428.428%200%200%200%20.755-.178%20231.115%20231.115%200%200%201%203.23-9.08c.432-.095%201.207-.283%201.683-.99%22/%3E%3Cpath%20d%3D%22M14.062%2015.046a6.46%206.46%200%200%200-.236.22%2085.602%2085.602%200%200%201-.268-.837c.255-.314.5-.62.71-.946.868-1.352-.85-2.13-1.59-1.253-.394.47-.296.93-.187%201.323l.15.506c-.21.215-.463.486-.8.877-.84.974-.61%202.24.288%202.518.547.17%201.056-.082%201.498-.474.02.057.044.12.064.17.234.588.96.41.683-.3-.047-.12-.11-.294-.176-.484a9.27%209.27%200%200%200%20.388-.53c.535-.795.018-1.26-.523-.79zm-.57-1.86c-.08.092-.157.173-.233.252a3.895%203.895%200%200%201-.053-.184c-.25-.944.832-.686.285-.068zm-.586%202.874c-.328.2-.59-.015-.148-.62.074-.103.152-.192.23-.29.073.227.15.457.227.685a2.694%202.694%200%200%201-.31.225z%22/%3E%3C/g%3E%3C/svg%3E",alt:"H&M Logo",width:"68",height:"44"}),s.a.createElement("h1",null,"Search form"),s.a.createElement("p",null,"Search for your favorite products with our awsome search engine!")),s.a.createElement("main",null,s.a.createElement("section",null,s.a.createElement(v,{onUserInputChange:this.handleOnUserInputChange,onKeyDownChange:this.handleOnKeyDownChange,searchKeyword:this.state.searchKeyword}),s.a.createElement(C,{searchResults:this.state.searchResults,activeSuggestion:this.state.activeSuggestion,showSuggestions:this.state.showSuggestions,searchKeyword:this.state.searchKeyword,onCountrySelected:this.handleOnCountrySelected})),s.a.createElement("section",null,s.a.createElement(I,{onClearHistory:this.handleClearHistory,searchHistoryItems:this.state.historyItems,onDeleteRecord:this.handleDeleteRecord})),s.a.createElement(j,{errorMessage:this.state.errorMessage})),s.a.createElement("footer",null,s.a.createElement("p",null,"\xa9 2020")))}}]),t}(s.a.Component));o.a.render(s.a.createElement(R,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a6be17f0.chunk.js.map